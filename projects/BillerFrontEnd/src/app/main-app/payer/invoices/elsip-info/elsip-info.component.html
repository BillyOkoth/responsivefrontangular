
<div class="close-button" nz-row>
    <div nz-col nzSpan="12">
      <i
        nz-icon
        nzType="arrow-left"
        nzTheme="outline"
        style="font-size: 36px; color: #08c;"
        nzTooltipTitle="Back"
        nzTooltipPlacement="right"
        nz-tooltip

      ></i>
    </div>
  </div>
  
  <br />
  <br />
  
  <div class="page-title" nz-row>
    <div nz-col nzOffset="0" nzSpan="12">
      <h2 class="text-color-grey-dark">
        E-Slip No: <strong>{{ this.eslip_no }}</strong>
      </h2>
    </div>
    <div nz-col nzSpan="10">
      <h2 class="text-color-grey-dark pay-title">
        Pay Via:
      </h2>
    </div>
  </div>
  
  <!-- Now design the E-slip -->
  <nz-spin [nzSpinning]="loading" [nzSize]="'large'">
  <div class="e-slip" nz-row>
    <div
      nz-col
      nzSpan="18"
      nzOffset="1.2"
      class="e-slip-content invoice-shadow"
      id="print-section"
    >
      <div class="slip-header" nz-row>
        <div class="logo" nz-col nzSpan="10" nzOffset="0.72">
          <img
            src="{{ 'data:image/jpg;base64,' + biller_logo }}"
            alt=""
            class="shadow image-logo"
          />
          <p class="company-email">
            {{ website }}
          </p>
        </div>
        <div nz-col nzSpan="4">
          <p id="bg-text" *ngIf="this.status == 'paid'">PAID</p>
        </div>
        <div class="address" nz-col nzSpan="10">
          <div nz-row nzType="flex" nzJustify="end">
            <p>
              For general K.P.C questions you <br />
              can contact the KPLC. call center:
            </p>
            <p>
              Phone: <strong>{{ biller_phone }} </strong> <br />
              Email: <strong> {{ email }} </strong>
            </p>
          </div>
        </div>
      </div>
  
      <!-- client header section -->
      <div class="client-header" nz-row>
        <div nz-col nzSpan="11.28" nzOffset="0.72">
          <p class="desc">
            Created By:
            <span>{{ this.createdBy }}</span>
          </p>
  
          <p class="desc">
            Payment Date:
            <span>{{ this.eslip_date | date: "mediumDate" }}</span>
          </p>
          <p class="desc">
            Expiry Date:
            <span>{{ this.expiry_date | date: "mediumDate" }}</span>
          </p>
        </div>
        <div nz-col nzSpan="11.28">
          <ngx-barcode [bc-value]="value" [bc-display-value]="true"></ngx-barcode>
        </div>
      </div>
  
      <!-- payment details -->
      <div class="payment-details" nz-row>
        <div nzSpan="22.56" nzOffset="0.72">
          <h3 class="title">
            Payer Bank Details
          </h3>
  
          <p class="payer-bnk-dts text-color-grey-dark">
            Bank Name
          </p>
          <p class="payer-bnk-dts text-color-grey-dark">
            Customer Name
          </p>
          <p class="payer-bnk-dts text-color-grey-dark">
            Account Name
          </p>
  
          <br />
          <br />
          <br />
        </div>
      </div>
  
      <!-- Beneficiary bank details -->
      <div class="beneficiary" nz-row >
        <div class="bank-details" nz-col nzSpan="10" nzOffset="2.4">
          <h3>
            Beneficiary Bank Details
          </h3>
  
          <div nz-row>
            <div nzSpan="12" nz-col  >
              <p class="text-color-grey-dark">Bank Name</p>
              <p class="text-color-grey-dark">Customer Name</p>
              <p class="text-color-grey-dark">Account Number</p>
              <p class="text-color-grey-dark">Payment Details</p>
              <p class="text-color-grey-dark">Payment Amount</p>
            </div>
            <div nzSpan="12" nz-col>
              <p class="underline-p text-color-grey-dark">Stanbic Bank</p>
              <p class="underline-p text-color-grey-dark">KPLC</p>
              <p class="underline-p text-color-grey-dark">
                {{ this.account_number }}
              </p>
              <p class="underline-p text-color-grey-dark">
                {{ this.eslip_no }}
              </p>
              <p class="underline-p text-color-grey-dark">
               Ksh. {{ this.eslip_amount | number: '2.'}}
              </p>
            </div>
          </div>
        </div>
        <div class="mpesa-details" nz-col nzSpan="10">
          <h3>
            Mpesa Details
          </h3>
  
          <div nz-row>
            <div nzSpan="12" nz-col>
              <p class="text-color-grey-dark">Mobile Money</p>
              <p class="text-color-grey-dark">Paybill/Business No.</p>
              <p class="text-color-grey-dark">Paybill Name</p>
              <p class="text-color-grey-dark">Account Number</p>
              <p class="text-color-grey-dark">Payment Amount</p>
            </div>
            <div nzSpan="12" nz-col>
              <p class="underline-p text-color-grey-dark">Mpesa</p>
              <p class="underline-p text-color-grey-dark">12345</p>
              <p class="underline-p text-color-grey-dark">STANBIC</p>
              <p class="underline-p text-color-grey-dark">
                {{ this.account_number }}
              </p>
              <p class="underline-p text-color-grey-dark">
                {{ this.eslip_amount | currency: "Ksh." }}
              </p>
            </div>
          </div>
        </div>
      </div>
  
      <!-- Payment Details -->
      <div class="payment-details-row" nz-col>
        <div class="title-row" nz-row>
          <div class="table-title" nzSpan="21.6" nzOffset="2.4">
            <h3>Payment Details</h3>
          </div>
        </div>
  
  
        <nz-table nzTemplateMode >
          <thead>
            <tr>
              <th class="td">No.</th>
              <th class="td">INVOICE NUMBER</th>
              <th class="td">BILLER REF</th>
              <th class="td">ACCOUNT NAME</th>
              <th class="td">AMOUNT (KSH)</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let data of accountDetails">
              <td class="td-x">{{ data.count }}</td>
              <td class="td-x">{{ data.accountNo }}</td>
              <td class="td-x">{{ data.biller_payment_ref }}</td>
              <td class="td-x">{{ data.account_name }}</td>
              <td class="td-x">{{ data.accountAmount | currency: "Ksh." }}</td>
            </tr>
          </tbody>
        </nz-table>
  
        <!-- total amount -->
  
        <div class="total-amount" nz-row nzType="flex" nzJustify="end">
          <div class="total-h3" nz-col nzOffset="15.36" nzSpan="4.8">
            <h3>
              TOTAL AMOUNT
            </h3>
          </div>
          <div class="2 left-brd" nz-col nzSpan="4.8">
            <h3 class="total-fig">
              {{ this.eslip_amount | currency: "Ksh." }}
            </h3>
          </div>
        </div>
  
        <!-- disclamer  -->
  
        <div class="disclammer" nz-row>
          <div class="" nzOffset="2.4" nzSpan="19.2">
            <img src="assets/images/Group 1633.png" alt="logo" />
            <br />
            <br />
  
            <h3>
              NB. This service does not allow partial payment of one E-slip
              Amount. Total E-Slip amount must be paid in full at once.
            </h3>
          </div>
        </div>
  
        <br />
        <br />
        <br />
      </div>
    </div>
  
    <div class="e-slip-side-bar" nzSpan="6" nz-col>
      <div class="top" nz-row>
        <div fxLayout="column" nzSpan="23" nz-col nzOffset="1">
          <div class="item-row" nz-row>
            <div class="item-content" nz-col nzSpan="19">
              <p>Stanbic Card</p>
            </div>
            <div class="item-content" nz-col nzSpan="4">
              <button nz-button nzType="link">
                <i nz-icon nzType="arrow-right" nzTheme="outline"></i>
              </button>
            </div>
          </div>
  
          <div class="item-row" nz-row>
            <div class="item-content" nz-col nzSpan="19">
              <p>Stanbic Business Online</p>
            </div>
            <div class="item-content" nz-col nzSpan="4">
              <button nz-button nzType="link">
                <i nz-icon nzType="arrow-right" nzTheme="outline"></i>
              </button>
            </div>
          </div>
  
          <div class="item-row" fxLayout="row">
            <div class="item-content" nz-col nzSpan="19">
              <p>SME Internet Banking</p>
            </div>
            <div class="item-content" nz-col nzSpan="4">
              <button nz-button nzType="link">
                <i nz-icon nzType="arrow-right" nzTheme="outline"></i>
              </button>
            </div>
          </div>
  
          <div class="item-row" fxLayout="row" *ngIf="mpesaDisplay">
            <div class="item-content" nz-col nzSpan="19">
              <p>MPESA (Kes. 70,000.00 or less)</p>
            </div>
            <div class="item-content" nz-col nzSpan="4">
              <button nz-button nzType="link">
                <i nz-icon nzType="arrow-right" nzTheme="outline"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
  
      <div class="bottom" nz-row>
        <div nz-col nzOffset="1" nzSpan="23">
          <div class="item-row" nz-row>
            <div class="item-content" nz-col nzSpan="24">
              <button
                nz-button
                nzType="link"
                [disabled]="this.loading"
                (click)="downloadEslip()"
              >
                Download <i nz-icon nzType="download"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </nz-spin>
  

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngx-validators",["exports","@angular/core","@angular/forms","rxjs/operators"],t):t(e["ngx-validators"]={},e.ng.core,e.ng.forms,e.rxjs.operators)}(this,function(e,t,r,n){"use strict";var f=function(){function e(){}return e.isNotPresent=function(e){var t=e.value;return t===undefined||null===t||""===t},e.addError=function(e,t,r){var n;e.errors?e.hasError(t)||(e.errors[t]=r):e.setErrors(((n={})[t]=r,n))},e.removeError=function(e,t){e.errors&&e.hasError(t)&&(1<Object.keys(e.errors).length?delete e.errors[t]:e.setErrors(null))},e}(),i=function(){function e(){}return e.repeatCharacterRegexRule=function(r){return function(e){if(f.isNotPresent(e))return undefined;var t="([^\\x00-\\x1F])\\1{"+(r-1)+"}";return""!==e.value&&new RegExp(t).test(e.value)?{repeatCharacterRegexRule:{repeatCount:r}}:undefined}},e.allowedCharacterRule=function(c){return function(e){var t,r;if(f.isNotPresent(e))return undefined;var n=e.value,i=!0,a=[];try{for(var o=function l(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}(n),u=o.next();!u.done;u=o.next()){var s=u.value;-1===c.indexOf(s)&&(i=!1,-1===a.indexOf(s)&&a.push(s))}}catch(d){t={error:d}}finally{try{u&&!u.done&&(r=o["return"])&&r.call(o)}finally{if(t)throw t.error}}return i?undefined:{allowedCharacterRule:{invalidChars:a,allowedChars:c}}}},e.alphabeticalCharacterRule=function(n){return function(e){if(f.isNotPresent(e))return undefined;var t=e.value;if(0===t.length)return undefined;var r=t.replace(/[^A-Za-z]+/g,"");return r.length<n?{alphabeticalCharacterRule:{required:n,actual:r.length}}:undefined}},e.digitCharacterRule=function(n){return function(e){if(f.isNotPresent(e))return undefined;var t=e.value;if(0===t.length)return undefined;var r=t.replace(/[^0-9\.]+/g,"");return r.length<n?{digitCharacterRule:{required:n,actual:r.length}}:undefined}},e.lowercaseCharacterRule=function(n){return function(e){if(f.isNotPresent(e))return undefined;var t=e.value;if(0===t.length)return undefined;var r=t.replace(/[^a-z]+/g,"");return r.length<n?{lowercaseCharacterRule:{required:n,actual:r.length}}:undefined}},e.uppercaseCharacterRule=function(n){return function(e){if(f.isNotPresent(e))return undefined;var t=e.value;if(0===t.length)return undefined;var r=t.replace(/[^A-Z]+/g,"");return r.length<n?{uppercaseCharacterRule:{required:n,actual:r.length}}:undefined}},e.specialCharacterRule=function(n){return function(e){if(f.isNotPresent(e))return undefined;var t=e.value;if(0===t.length)return undefined;var r=t.replace(/[\w\s]+/g,"");return r.length<n?{specialCharacterRule:{required:n,actual:r.length}}:undefined}},e.mismatchedPasswords=function(t,r){return function(e){return e.get(t||"newPassword").value!==e.get(r||"confirmPassword").value?(f.addError(e.get(r||"confirmPassword"),"mismatchedPasswords",!0),{mismatchedPasswords:!0}):(f.removeError(e.get(r||"confirmPassword"),"mismatchedPasswords"),undefined)}},e}(),a=function(){function e(){this.defaultOptions={domains:["msn.com","bellsouth.net","telus.net","comcast.net","optusnet.com.au","earthlink.net","qq.com","sky.com","icloud.com","mac.com","sympatico.ca","googlemail.com","att.net","xtra.co.nz","web.de","cox.net","gmail.com","ymail.com","yahoo.com","aim.com","rogers.com","verizon.net","rocketmail.com","google.com","optonline.net","sbcglobal.net","aol.com","me.com","btinternet.com","charter.net","shaw.ca"],secondLevelDomains:["yahoo","hotmail","mail","live","outlook","gmx"],topLevelDomains:["com","com.au","com.tw","ca","co.nz","co.uk","de","fr","it","ru","net","org","edu","gov","jp","nl","kr","se","eu","ie","co.il","us","at","be","dk","hk","es","gr","ch","no","cz","in","net","net.au","info","biz","mil","co.jp","sg","hu","uk"]}}return e.prototype.suggest=function(e,t){var r=this.defaultOptions;t!=undefined&&(r=t);var n=this.splitEmail(e.toLowerCase());if(!n)return undefined;if(r.secondLevelDomains&&r.topLevelDomains&&-1!==r.secondLevelDomains.indexOf(n.secondLevelDomain)&&-1!==r.topLevelDomains.indexOf(n.topLevelDomain))return undefined;var i=this.findClosestDomain(n.domain,r.domains,2);if(i)return i==n.domain?undefined:{suggestion:{address:n.address,domain:i,full:n.address+"@"+i}};var a=this.findClosestDomain(n.secondLevelDomain,r.secondLevelDomains,2),o=this.findClosestDomain(n.topLevelDomain,r.topLevelDomains,2);if(n.domain){i=n.domain;var u=!1;if(a&&a!=n.secondLevelDomain&&(i=i.replace(n.secondLevelDomain,a),u=!0),o&&o!=n.topLevelDomain&&""!==n.secondLevelDomain&&(i=i.replace(new RegExp(n.topLevelDomain+"$"),o),u=!0),u)return{suggestion:{address:n.address,domain:i,full:n.address+"@"+i}}}return undefined},e.prototype.splitEmail=function(e){var t=e.trim().split("@");if(t.length<2)return undefined;for(var r=0;r<t.length;r++)if(""===t[r])return undefined;var n={topLevelDomain:"",secondLevelDomain:"",domain:t.pop(),address:""},i=n.domain.split(".");if(0===i.length)return undefined;if(1==i.length)n.topLevelDomain=i[0];else{n.secondLevelDomain=i[0];for(var a=1;a<i.length;a++)n.topLevelDomain+=i[a]+".";n.topLevelDomain=n.topLevelDomain.substring(0,n.topLevelDomain.length-1)}return n.address=t.join("@"),n},e.prototype.findClosestDomain=function(e,t,r){var n,i=Infinity,a=null;if(!e||!t)return undefined;for(var o=0;o<t.length;o++){if(e===t[o])return e;(n=this.sift4Distance(e,t[o],5))<i&&(i=n,a=t[o])}return i<=r&&null!==a?a:undefined},e.prototype.sift4Distance=function(e,t,r){if(r===undefined&&(r=5),!e||!e.length)return t?t.length:0;if(!t||!t.length)return e.length;for(var n=e.length,i=t.length,a=0,o=0,u=0,s=0,l=0,d=[];a<n&&o<i;){if(e.charAt(a)==t.charAt(o)){s++;for(var c=!1,f=0;f<d.length;){var p=d[f];if(a<=p.c1||o<=p.c2){(c=Math.abs(o-a)>=Math.abs(p.c2-p.c1))?l++:p.trans||(p.trans=!0,l++);break}a>p.c2&&o>p.c1?d.splice(f,1):f++}d.push({c1:a,c2:o,trans:c})}else{u+=s,s=0,a!=o&&(a=o=Math.min(a,o));for(var m=0;m<r&&(a+m<n||o+m<i);m++){if(a+m<n&&e.charAt(a+m)==t.charAt(o)){a+=m-1,o--;break}if(o+m<i&&e.charAt(a)==t.charAt(o+m)){a--,o+=m-1;break}}}o++,(n<=++a||i<=o)&&(u+=s,s=0,a=o=Math.min(a,o))}return u+=s,Math.round(Math.max(n,i)-u+l)},e}(),o=function(){function e(){}return e.simple=function(e){if(f.isNotPresent(e))return undefined;return/.+@.+\..+/i.test(e.value)?undefined:{simpleEmailRule:!0}},e.normal=function(e){if(f.isNotPresent(e))return undefined;return/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e.value)?undefined:{normalEmailRule:!0}},e.suggest=function(t){var r=this;return function(e){return f.isNotPresent(e)?undefined:r.emailSuggestion.suggest(e.value,t)}},e.emailSuggestion=new a,e}(),u=function(){function e(){}return e.noWhitespace=function(e){if(f.isNotPresent(e))return undefined;return new RegExp("\\s").test(e.value)?{noWhitespaceRequired:!0}:undefined},e.noEmptyString=function(e){return f.isNotPresent(e)?undefined:0===e.value.trim().length?{noEmptyString:!0}:undefined},e.isNumber=function(e){return f.isNotPresent(e)?undefined:isNaN(e.value)?{numberRequired:!0}:undefined},e.isInRange=function(t,r){return function(e){return f.isNotPresent(e)?undefined:isNaN(e.value)?{numberRequired:!0}:+e.value<t?{rangeValueToSmall:{requiredMinValue:t,requiredMaxValue:r,actual:e.value}}:+e.value>r?{rangeValueToBig:{requiredMinValue:t,requiredMaxValue:r,actual:e.value}}:undefined}},e.minLength=function(r){return function(e){if(f.isNotPresent(e))return undefined;var t=e.value;return t.length>=r?undefined:{minLength:{requiredMinLength:r,actualLength:t.length}}}},e.maxLength=function(r){return function(e){if(f.isNotPresent(e))return undefined;var t=e.value;return r>=t.length?undefined:{maxLength:{requiredMaxLength:r,actualLength:t.length}}}},e.min=function(r){return function(e){if(f.isNotPresent(e))return undefined;var t=e.value;return isNaN(e.value)?{numberRequired:!0}:r<=+t?undefined:{min:{required:r,actual:e.value}}}},e.max=function(r){return function(e){if(f.isNotPresent(e))return undefined;var t=e.value;return isNaN(e.value)?{numberRequired:!0}:+t<=r?undefined:{max:{required:r,actual:e.value}}}},e}(),s="^(?:4[0-9]{12})(?:[0-9]{3})?$",l="^(?:3[47][0-9]{13})$",d="^(?:(?:5[0678]\\d\\d|6304|6390|67\\d\\d)\\d{8,15})$",c="^(?:(?:2131|1800|35\\d{3})\\d{11})$",p="^(?:6(?:011|5[0-9]{2})(?:[0-9]{12}))$",m="^(?:3(?:0[0-5]|[68][0-9])[0-9]{11})$",v="^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$",h=function(){function e(){}return e.isCreditCard=function(e){return f.isNotPresent(e)?undefined:new RegExp(l+"|"+s+"|"+d+"|"+c+"|"+p+"|"+v+"|"+m).test(e.value)?undefined:{creditcard:!0}},e.americanExpress=function(e){return f.isNotPresent(e)?undefined:new RegExp(l).test(e.value)?undefined:{americanExpress:!0}},e.dinersclub=function(e){return f.isNotPresent(e)?undefined:new RegExp(m).test(e.value)?undefined:{dinersclub:!0}},e.discover=function(e){return f.isNotPresent(e)?undefined:new RegExp(p).test(e.value)?undefined:{discover:!0}},e.jcb=function(e){return f.isNotPresent(e)?undefined:new RegExp(c).test(e.value)?undefined:{jcb:!0}},e.maestro=function(e){return f.isNotPresent(e)?undefined:new RegExp(d).test(e.value)?undefined:{maestro:!0}},e.mastercard=function(e){return f.isNotPresent(e)?undefined:new RegExp(v).test(e.value)?undefined:{mastercard:!0}},e.visa=function(e){return f.isNotPresent(e)?undefined:new RegExp(s).test(e.value)?undefined:{visa:!0}},e}(),g=function(){function e(){this.repeatCharacter=4,this.alphabeticalCharacter=1,this.digitCharacter=1,this.lowercaseCharacter=1,this.uppercaseCharacter=1}return e.prototype.ngOnInit=function(){this.repeatCharacterValidator=i.repeatCharacterRegexRule(this.repeatCharacter),this.alphabeticalCharacterValidator=i.alphabeticalCharacterRule(this.alphabeticalCharacter),this.digitCharacterValidator=i.digitCharacterRule(this.digitCharacter),this.lowercaseCharacterValidator=i.lowercaseCharacterRule(this.lowercaseCharacter),this.uppercaseCharacterValidator=i.uppercaseCharacterRule(this.uppercaseCharacter)},e.prototype.validate=function(e){return r.Validators.compose([this.repeatCharacterValidator,this.digitCharacterValidator,this.alphabeticalCharacterValidator,this.lowercaseCharacterValidator,this.uppercaseCharacterValidator])(e)},e.decorators=[{type:t.Directive,args:[{selector:"[password][formControlName],[password][formControl],[password][ngModel]",providers:[{provide:r.NG_VALIDATORS,useExisting:t.forwardRef(function(){return e}),multi:!0}]}]}],e.propDecorators={repeatCharacter:[{type:t.Input}],alphabeticalCharacter:[{type:t.Input}],digitCharacter:[{type:t.Input}],lowercaseCharacter:[{type:t.Input}],uppercaseCharacter:[{type:t.Input}]},e}(),C=function(){function e(){this.email="normal"}return e.prototype.ngOnInit=function(){switch(this.email){case"simple":this.validator=o.simple;break;case"normal":default:this.validator=o.normal}},e.prototype.validate=function(e){return this.validator(e)},e.decorators=[{type:t.Directive,args:[{selector:"[email][formControlName],[email][formControl],[email][ngModel]",providers:[{provide:r.NG_VALIDATORS,useExisting:t.forwardRef(function(){return e}),multi:!0}]}]}],e.propDecorators={email:[{type:t.Input}]},e}(),y=function(){function e(){}return e.prototype.ngOnInit=function(){this.validator=o.suggest(this.emailSuggest)},e.prototype.validate=function(e){return this.validator(e)},e.decorators=[{type:t.Directive,args:[{selector:"[emailSuggest][formControlName],[emailSuggest][formControl],[emailSuggest][ngModel]",providers:[{provide:r.NG_VALIDATORS,useExisting:t.forwardRef(function(){return e}),multi:!0}]}]}],e.propDecorators={emailSuggest:[{type:t.Input}]},e}(),x=function(){function e(){}return e.prototype.ngOnInit=function(){this.validator=u.noWhitespace},e.prototype.validate=function(e){return this.validator(e)},e.decorators=[{type:t.Directive,args:[{selector:"[noWhitespace][formControlName],[noWhitespace][formControl],[noWhitespace][ngModel]",providers:[{provide:r.NG_VALIDATORS,useExisting:t.forwardRef(function(){return e}),multi:!0}]}]}],e}(),D=function(){function e(){}return e.prototype.ngOnInit=function(){this.validator=u.noEmptyString},e.prototype.validate=function(e){return this.validator(e)},e.decorators=[{type:t.Directive,args:[{selector:"[noEmptyString][formControlName],[noEmptyString][formControl],[noEmptyString][ngModel]",providers:[{provide:r.NG_VALIDATORS,useExisting:t.forwardRef(function(){return e}),multi:!0}]}]}],e}(),R=function(){function e(){}return e.prototype.ngOnInit=function(){this.validator=u.isNumber},e.prototype.validate=function(e){return this.validator(e)},e.decorators=[{type:t.Directive,args:[{selector:"[isNumber][formControlName],[isNumber][formControl],[isNumber][ngModel]",providers:[{provide:r.NG_VALIDATORS,useExisting:t.forwardRef(function(){return e}),multi:!0}]}]}],e}(),N=function(){function e(){}return e.prototype.ngOnInit=function(){this.validator=u.isInRange(this.minValue,this.maxValue)},e.prototype.validate=function(e){return this.validator(e)},e.decorators=[{type:t.Directive,args:[{selector:"[isInRange][formControlName],[isInRange][formControl],[isInRange][ngModel]",providers:[{provide:r.NG_VALIDATORS,useExisting:t.forwardRef(function(){return e}),multi:!0}]}]}],e.propDecorators={minValue:[{type:t.Input}],maxValue:[{type:t.Input}]},e}(),b=function(){function e(){}return e.prototype.ngOnInit=function(){this.validator=u.max(this.max)},e.prototype.validate=function(e){return this.validator(e)},e.decorators=[{type:t.Directive,args:[{selector:"input[type=text][max][formControlName],input[type=text][max][formControl],input[type=text][max][ngModel]",providers:[{provide:r.NG_VALIDATORS,useExisting:t.forwardRef(function(){return e}),multi:!0}]}]}],e.propDecorators={max:[{type:t.Input}]},e}(),w=function(){function e(){}return e.prototype.ngOnInit=function(){this.validator=u.min(this.min)},e.prototype.validate=function(e){return this.validator(e)},e.decorators=[{type:t.Directive,args:[{selector:"input[type=text][min][formControlName],input[type=text][min][formControl],input[type=text][min][ngModel]",providers:[{provide:r.NG_VALIDATORS,useExisting:t.forwardRef(function(){return e}),multi:!0}]}]}],e.propDecorators={min:[{type:t.Input}]},e}(),E=function(){function e(){this.creditCard="all"}return e.prototype.ngOnInit=function(){switch(this.creditCard){case"all":this.validator=h.isCreditCard;break;case"americanExpress":this.validator=h.americanExpress;break;case"dinersclub":this.validator=h.dinersclub;break;case"discover":this.validator=h.discover;break;case"jcb":this.validator=h.jcb;break;case"maestro":this.validator=h.maestro;break;case"mastercard":this.validator=h.mastercard;break;case"visa":this.validator=h.visa;break;default:this.validator=h.isCreditCard}},e.prototype.validate=function(e){return this.validator(e)},e.decorators=[{type:t.Directive,args:[{selector:"[creditCard][formControlName],[creditCard][formControl],[creditCard][ngModel]",providers:[{provide:r.NG_VALIDATORS,useExisting:t.forwardRef(function(){return e}),multi:!0}]}]}],e.propDecorators={creditCard:[{type:t.Input}]},e}(),V=function(){function e(){}return e.prototype.validate=function(e){var t="string"==typeof this.equalTo?e.parent.get(this.equalTo):this.equalTo;return this.subscription||(this.subscription=t.valueChanges.pipe(n.delay(1)).subscribe(function(){e.updateValueAndValidity()})),e.value!==t.value?{notEqualTo:!0}:null},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.decorators=[{type:t.Directive,args:[{selector:"[equalTo][ngModel], [equalTo][formControlName], [equalTo][formControl]",providers:[{provide:r.NG_VALIDATORS,useExisting:t.forwardRef(function(){return e}),multi:!0}]}]}],e.propDecorators={equalTo:[{type:t.Input}]},e}(),L=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[E,C,y,g,N,R,b,w,x,D,V],exports:[E,C,y,g,N,R,b,w,x,D,V]}]}],e}(),I=function(){function e(){}return e.equalTo=function(n,i){return function(e){var t=e.get(n),r=e.get(i);t.value===r.value?f.removeError(r,"notEqualTo"):f.addError(r,"notEqualTo",!0)}},e}();e.PasswordValidators=i,e.EmailValidators=o,e.UniversalValidators=u,e.CreditCardValidators=h,e.PasswordValidatorDirective=g,e.EmailValidatorDirective=C,e.EmailSuggestValidatorDirective=y,e.IsInRangeValidatorDirective=N,e.IsNumberValidatorDirective=R,e.MaxValidatorDirective=b,e.MinValidatorDirective=w,e.WhiteSpaceValidatorDirective=x,e.EmptyStringValidatorDirective=D,e.CreditCardValidatorDirective=E,e.ValidatorsModule=L,e.AbstractControlUtil=f,e.EmailSuggestion=a,e.EqualToDirective=V,e.EqualToValidator=I,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-validators.umd.min.js.map
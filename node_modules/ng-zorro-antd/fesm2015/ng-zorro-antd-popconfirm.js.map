{"version":3,"file":"ng-zorro-antd-popconfirm.js","sources":["ng://ng-zorro-antd/popconfirm/popconfirm.ts","ng://ng-zorro-antd/popconfirm/popconfirm.module.ts"],"sourcesContent":["/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ComponentFactory,\n  ComponentFactoryResolver,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  Host,\n  Input,\n  OnDestroy,\n  Optional,\n  Output,\n  Renderer2,\n  TemplateRef,\n  ViewContainerRef,\n  ViewEncapsulation\n} from '@angular/core';\nimport { zoomBigMotion } from 'ng-zorro-antd/core/animation';\nimport { NzNoAnimationDirective } from 'ng-zorro-antd/core/no-animation';\nimport { BooleanInput, NzTSType } from 'ng-zorro-antd/core/types';\n\nimport { InputBoolean } from 'ng-zorro-antd/core/util';\nimport { NzTooltipBaseDirective, NzToolTipComponent, NzTooltipTrigger } from 'ng-zorro-antd/tooltip';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Directive({\n  selector: '[nz-popconfirm]',\n  exportAs: 'nzPopconfirm',\n  host: {\n    '[class.ant-popover-open]': 'visible'\n  }\n})\nexport class NzPopconfirmDirective extends NzTooltipBaseDirective {\n  static ngAcceptInputType_nzCondition: BooleanInput;\n\n  @Input('nzPopconfirmTitle') specificTitle: NzTSType;\n  @Input('nz-popconfirm') directiveNameTitle: NzTSType | null;\n  @Input('nzPopconfirmTrigger') specificTrigger: NzTooltipTrigger;\n  @Input('nzPopconfirmPlacement') specificPlacement: string;\n  @Input('nzPopconfirmOrigin') specificOrigin: ElementRef<HTMLElement>;\n  @Input() nzOkText: string;\n  @Input() nzOkType: string;\n  @Input() nzCancelText: string;\n  @Input() nzIcon: string | TemplateRef<void>;\n  @Input() @InputBoolean() nzCondition: boolean;\n\n  /**\n   * @deprecated 10.0.0. This is deprecated and going to be removed in 10.0.0.\n   * Please use a more specific API. Like `nzTooltipTrigger`.\n   */\n  @Input() nzTrigger: NzTooltipTrigger = 'click';\n\n  @Output() readonly nzOnCancel = new EventEmitter<void>();\n  @Output() readonly nzOnConfirm = new EventEmitter<void>();\n\n  protected readonly componentFactory: ComponentFactory<NzPopconfirmComponent> = this.resolver.resolveComponentFactory(\n    NzPopconfirmComponent\n  );\n\n  protected readonly needProxyProperties = [\n    'nzOverlayClassName',\n    'nzOverlayStyle',\n    'nzMouseEnterDelay',\n    'nzMouseLeaveDelay',\n    'nzVisible',\n    'nzOkText',\n    'nzOkType',\n    'nzCancelText',\n    'nzCondition',\n    'nzIcon'\n  ];\n\n  constructor(\n    elementRef: ElementRef,\n    hostView: ViewContainerRef,\n    resolver: ComponentFactoryResolver,\n    renderer: Renderer2,\n    @Host() @Optional() noAnimation?: NzNoAnimationDirective\n  ) {\n    super(elementRef, hostView, resolver, renderer, noAnimation);\n  }\n\n  /**\n   * @override\n   */\n  protected createComponent(): void {\n    super.createComponent();\n\n    (this.component as NzPopconfirmComponent).nzOnCancel.pipe(takeUntil(this.destroy$)).subscribe(() => {\n      this.nzOnCancel.emit();\n    });\n    (this.component as NzPopconfirmComponent).nzOnConfirm.pipe(takeUntil(this.destroy$)).subscribe(() => {\n      this.nzOnConfirm.emit();\n    });\n  }\n}\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  selector: 'nz-popconfirm',\n  exportAs: 'nzPopconfirmComponent',\n  preserveWhitespaces: false,\n  animations: [zoomBigMotion],\n  template: `\n    <ng-template\n      #overlay=\"cdkConnectedOverlay\"\n      cdkConnectedOverlay\n      nzConnectedOverlay\n      [cdkConnectedOverlayOrigin]=\"origin\"\n      [cdkConnectedOverlayHasBackdrop]=\"_hasBackdrop\"\n      (backdropClick)=\"hide()\"\n      (detach)=\"hide()\"\n      (positionChange)=\"onPositionChange($event)\"\n      [cdkConnectedOverlayPositions]=\"_positions\"\n      [cdkConnectedOverlayOpen]=\"_visible\"\n    >\n      <div\n        class=\"ant-popover\"\n        [ngClass]=\"_classMap\"\n        [ngStyle]=\"nzOverlayStyle\"\n        [@.disabled]=\"noAnimation?.nzNoAnimation\"\n        [nzNoAnimation]=\"noAnimation?.nzNoAnimation\"\n        [@zoomBigMotion]=\"'active'\"\n      >\n        <div class=\"ant-popover-content\">\n          <div class=\"ant-popover-arrow\"></div>\n          <div class=\"ant-popover-inner\">\n            <div>\n              <div class=\"ant-popover-inner-content\">\n                <div class=\"ant-popover-message\">\n                  <ng-container *nzStringTemplateOutlet=\"nzTitle\">\n                    <ng-container *nzStringTemplateOutlet=\"nzIcon\">\n                      <i nz-icon [nzType]=\"nzIcon || 'exclamation-circle'\" nzTheme=\"fill\"></i>\n                    </ng-container>\n                    <div class=\"ant-popover-message-title\">{{ nzTitle }}</div>\n                  </ng-container>\n                </div>\n                <div class=\"ant-popover-buttons\">\n                  <button nz-button [nzSize]=\"'small'\" (click)=\"onCancel()\">\n                    <ng-container *ngIf=\"nzCancelText\">{{ nzCancelText }}</ng-container>\n                    <ng-container *ngIf=\"!nzCancelText\">{{ 'Modal.cancelText' | nzI18n }}</ng-container>\n                  </button>\n                  <button nz-button [nzSize]=\"'small'\" [nzType]=\"nzOkType\" (click)=\"onConfirm()\">\n                    <ng-container *ngIf=\"nzOkText\">{{ nzOkText }}</ng-container>\n                    <ng-container *ngIf=\"!nzOkText\">{{ 'Modal.okText' | nzI18n }}</ng-container>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </ng-template>\n  `\n})\nexport class NzPopconfirmComponent extends NzToolTipComponent implements OnDestroy {\n  nzCancelText: string;\n  nzCondition = false;\n  nzIcon: string | TemplateRef<void>;\n  nzOkText: string;\n  nzOkType: string = 'primary';\n\n  readonly nzOnCancel = new Subject<void>();\n  readonly nzOnConfirm = new Subject<void>();\n\n  protected _trigger: NzTooltipTrigger = 'click';\n\n  _prefix = 'ant-popover-placement';\n  _hasBackdrop = true;\n\n  constructor(cdr: ChangeDetectorRef, @Host() @Optional() public noAnimation?: NzNoAnimationDirective) {\n    super(cdr, noAnimation);\n  }\n\n  ngOnDestroy(): void {\n    super.ngOnDestroy();\n\n    this.nzOnCancel.complete();\n    this.nzOnConfirm.complete();\n  }\n\n  /**\n   * @override\n   */\n  show(): void {\n    if (!this.nzCondition) {\n      super.show();\n    } else {\n      this.onConfirm();\n    }\n  }\n\n  onCancel(): void {\n    this.nzOnCancel.next();\n    super.hide();\n  }\n\n  onConfirm(): void {\n    this.nzOnConfirm.next();\n    super.hide();\n  }\n}\n","/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { OverlayModule } from '@angular/cdk/overlay';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NzButtonModule } from 'ng-zorro-antd/button';\nimport { NzNoAnimationModule } from 'ng-zorro-antd/core/no-animation';\nimport { NzOutletModule } from 'ng-zorro-antd/core/outlet';\nimport { NzOverlayModule } from 'ng-zorro-antd/core/overlay';\nimport { NzI18nModule } from 'ng-zorro-antd/i18n';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\n\nimport { NzPopconfirmComponent, NzPopconfirmDirective } from './popconfirm';\n\n@NgModule({\n  declarations: [NzPopconfirmComponent, NzPopconfirmDirective],\n  exports: [NzPopconfirmComponent, NzPopconfirmDirective],\n  entryComponents: [NzPopconfirmComponent],\n  imports: [\n    CommonModule,\n    NzButtonModule,\n    OverlayModule,\n    NzI18nModule,\n    NzIconModule,\n    NzOutletModule,\n    NzOverlayModule,\n    NzNoAnimationModule,\n    NzToolTipModule\n  ]\n})\nexport class NzPopconfirmModule {}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;MA2Ca,qBAAsB,SAAQ,sBAAsB;;;;;;;;IAwC/D,YACE,UAAsB,EACtB,QAA0B,EAC1B,QAAkC,EAClC,QAAmB,EACC,WAAoC;QAExD,KAAK,CAAC,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,WAAW,CAAC,CAAC;;;;;QA7BtD,cAAS,GAAqB,OAAO,CAAC;QAE5B,eAAU,GAAG,IAAI,YAAY,EAAQ,CAAC;QACtC,gBAAW,GAAG,IAAI,YAAY,EAAQ,CAAC;QAEvC,qBAAgB,GAA4C,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAClH,qBAAqB,CACtB,CAAC;QAEiB,wBAAmB,GAAG;YACvC,oBAAoB;YACpB,gBAAgB;YAChB,mBAAmB;YACnB,mBAAmB;YACnB,WAAW;YACX,UAAU;YACV,UAAU;YACV,cAAc;YACd,aAAa;YACb,QAAQ;SACT,CAAC;KAUD;;;;;;IAKS,eAAe;QACvB,KAAK,CAAC,eAAe,EAAE,CAAC;QAExB,oBAAC,IAAI,CAAC,SAAS,IAA2B,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS;;;QAAC;YAC5F,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;SACxB,EAAC,CAAC;QACH,oBAAC,IAAI,CAAC,SAAS,IAA2B,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS;;;QAAC;YAC7F,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;SACzB,EAAC,CAAC;KACJ;;;YArEF,SAAS,SAAC;gBACT,QAAQ,EAAE,iBAAiB;gBAC3B,QAAQ,EAAE,cAAc;gBACxB,IAAI,EAAE;oBACJ,0BAA0B,EAAE,SAAS;iBACtC;aACF;;;;YA3BC,UAAU;YASV,gBAAgB;YAXhB,wBAAwB;YASxB,SAAS;YAMF,sBAAsB,uBA4D1B,IAAI,YAAI,QAAQ;;;4BA1ClB,KAAK,SAAC,mBAAmB;iCACzB,KAAK,SAAC,eAAe;8BACrB,KAAK,SAAC,qBAAqB;gCAC3B,KAAK,SAAC,uBAAuB;6BAC7B,KAAK,SAAC,oBAAoB;uBAC1B,KAAK;uBACL,KAAK;2BACL,KAAK;qBACL,KAAK;0BACL,KAAK;wBAML,KAAK;yBAEL,MAAM;0BACN,MAAM;;AATkB;IAAf,YAAY,EAAE;;0DAAsB;;;IAX9C,oDAAmD;;IAEnD,8CAAoD;;IACpD,mDAA4D;;IAC5D,gDAAgE;;IAChE,kDAA0D;;IAC1D,+CAAqE;;IACrE,yCAA0B;;IAC1B,yCAA0B;;IAC1B,6CAA8B;;IAC9B,uCAA4C;;IAC5C,4CAA8C;;;;;;IAM9C,0CAA+C;;IAE/C,2CAAyD;;IACzD,4CAA0D;;;;;IAE1D,iDAEE;;;;;IAEF,oDAWE;;MAsFS,qBAAsB,SAAQ,kBAAkB;;;;;IAe3D,YAAY,GAAsB,EAA6B,WAAoC;QACjG,KAAK,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;QADqC,gBAAW,GAAX,WAAW,CAAyB;QAbnG,gBAAW,GAAG,KAAK,CAAC;QAGpB,aAAQ,GAAW,SAAS,CAAC;QAEpB,eAAU,GAAG,IAAI,OAAO,EAAQ,CAAC;QACjC,gBAAW,GAAG,IAAI,OAAO,EAAQ,CAAC;QAEjC,aAAQ,GAAqB,OAAO,CAAC;QAE/C,YAAO,GAAG,uBAAuB,CAAC;QAClC,iBAAY,GAAG,IAAI,CAAC;KAInB;;;;IAED,WAAW;QACT,KAAK,CAAC,WAAW,EAAE,CAAC;QAEpB,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;QAC3B,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;KAC7B;;;;;IAKD,IAAI;QACF,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;YACrB,KAAK,CAAC,IAAI,EAAE,CAAC;SACd;aAAM;YACL,IAAI,CAAC,SAAS,EAAE,CAAC;SAClB;KACF;;;;IAED,QAAQ;QACN,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACvB,KAAK,CAAC,IAAI,EAAE,CAAC;KACd;;;;IAED,SAAS;QACP,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;QACxB,KAAK,CAAC,IAAI,EAAE,CAAC;KACd;;;YAxGF,SAAS,SAAC;gBACT,eAAe,EAAE,uBAAuB,CAAC,MAAM;gBAC/C,aAAa,EAAE,iBAAiB,CAAC,IAAI;gBACrC,QAAQ,EAAE,eAAe;gBACzB,QAAQ,EAAE,uBAAuB;gBACjC,mBAAmB,EAAE,KAAK;gBAC1B,UAAU,EAAE,CAAC,aAAa,CAAC;gBAC3B,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAkDT;aACF;;;;YA5JC,iBAAiB;YAkBV,sBAAsB,uBA0JQ,IAAI,YAAI,QAAQ;;;;IAdrD,6CAAqB;;IACrB,4CAAoB;;IACpB,uCAAmC;;IACnC,yCAAiB;;IACjB,yCAA6B;;IAE7B,2CAA0C;;IAC1C,4CAA2C;;;;;IAE3C,yCAA+C;;IAE/C,wCAAkC;;IAClC,6CAAoB;;IAEgB,4CAA+D;;;;;;;;MChJxF,kBAAkB;;;YAhB9B,QAAQ,SAAC;gBACR,YAAY,EAAE,CAAC,qBAAqB,EAAE,qBAAqB,CAAC;gBAC5D,OAAO,EAAE,CAAC,qBAAqB,EAAE,qBAAqB,CAAC;gBACvD,eAAe,EAAE,CAAC,qBAAqB,CAAC;gBACxC,OAAO,EAAE;oBACP,YAAY;oBACZ,cAAc;oBACd,aAAa;oBACb,YAAY;oBACZ,YAAY;oBACZ,cAAc;oBACd,eAAe;oBACf,mBAAmB;oBACnB,eAAe;iBAChB;aACF;;;;;;;;;;;;;;;;;"}
{"version":3,"file":"ng-zorro-antd-affix.js","sources":["ng:/ng-zorro-antd/affix/respond-events.ts","ng:/ng-zorro-antd/affix/utils.ts","ng:/ng-zorro-antd/affix/affix.component.ts","ng:/ng-zorro-antd/affix/affix.module.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nexport enum AffixRespondEvents {\n  resize = 'resize',\n  scroll = 'scroll',\n  touchstart = 'touchstart',\n  touchmove = 'touchmove',\n  touchend = 'touchend',\n  pageshow = 'pageshow',\n  load = 'LOAD'\n}\n","/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nexport interface SimpleRect {\n  top: number;\n  left: number;\n  width?: number;\n  height?: number;\n  bottom?: number;\n}\n\nexport function isTargetWindow(target: Element | Window): target is Window {\n  return typeof window !== 'undefined' && target === window;\n}\n\nexport function getTargetRect(target: Element | Window): SimpleRect {\n  return !isTargetWindow(target)\n    ? target.getBoundingClientRect()\n    : {\n        top: 0,\n        left: 0,\n        bottom: 0\n      };\n}\n","/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Platform } from '@angular/cdk/platform';\nimport { DOCUMENT } from '@angular/common';\nimport {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Inject,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  Output,\n  Renderer2,\n  SimpleChanges,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { NzConfigService, WithConfig } from 'ng-zorro-antd/core/config';\nimport { NzScrollService } from 'ng-zorro-antd/core/services';\nimport { NgStyleInterface, NumberInput, NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { getStyleAsText, InputNumber, shallowEqual } from 'ng-zorro-antd/core/util';\n\nimport { fromEvent, merge, ReplaySubject, Subject, Subscription } from 'rxjs';\nimport { auditTime, map, takeUntil } from 'rxjs/operators';\n\nimport { AffixRespondEvents } from './respond-events';\nimport { getTargetRect, SimpleRect } from './utils';\n\nconst NZ_CONFIG_COMPONENT_NAME = 'affix';\nconst NZ_AFFIX_CLS_PREFIX = 'ant-affix';\nconst NZ_AFFIX_DEFAULT_SCROLL_TIME = 20;\n\n@Component({\n  selector: 'nz-affix',\n  exportAs: 'nzAffix',\n  template: `\n    <div #fixedEl>\n      <ng-content></ng-content>\n    </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n})\nexport class NzAffixComponent implements AfterViewInit, OnChanges, OnDestroy {\n  static ngAcceptInputType_nzOffsetTop: NumberInput;\n  static ngAcceptInputType_nzOffsetBottom: NumberInput;\n\n  @ViewChild('fixedEl', { static: true }) private fixedEl: ElementRef<HTMLDivElement>;\n\n  @Input() nzTarget: string | Element | Window;\n\n  @Input()\n  @WithConfig<number | null>(NZ_CONFIG_COMPONENT_NAME, null)\n  @InputNumber()\n  nzOffsetTop: null | number;\n\n  @Input()\n  @WithConfig<number | null>(NZ_CONFIG_COMPONENT_NAME, null)\n  @InputNumber()\n  nzOffsetBottom: null | number;\n\n  @Output() readonly nzChange = new EventEmitter<boolean>();\n\n  private readonly placeholderNode: HTMLElement;\n\n  private affixStyle?: NgStyleInterface;\n  private placeholderStyle?: NgStyleInterface;\n  private positionChangeSubscription: Subscription = Subscription.EMPTY;\n  private offsetChanged$ = new ReplaySubject(1);\n  private destroy$ = new Subject<void>();\n  private timeout?: number;\n  private document: Document;\n\n  private get target(): Element | Window {\n    const el = this.nzTarget;\n    return (typeof el === 'string' ? this.document.querySelector(el) : el) || window;\n  }\n\n  constructor(\n    el: ElementRef,\n    @Inject(DOCUMENT) doc: NzSafeAny,\n    public nzConfigService: NzConfigService,\n    private scrollSrv: NzScrollService,\n    private ngZone: NgZone,\n    private platform: Platform,\n    private renderer: Renderer2\n  ) {\n    // The wrapper would stay at the original position as a placeholder.\n    this.placeholderNode = el.nativeElement;\n    this.document = doc;\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const { nzOffsetBottom, nzOffsetTop, nzTarget } = changes;\n\n    if (nzOffsetBottom || nzOffsetTop) {\n      this.offsetChanged$.next();\n    }\n    if (nzTarget) {\n      this.registerListeners();\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.registerListeners();\n  }\n\n  ngOnDestroy(): void {\n    this.removeListeners();\n  }\n\n  private registerListeners(): void {\n    this.removeListeners();\n    this.positionChangeSubscription = this.ngZone.runOutsideAngular(() => {\n      return merge(\n        ...Object.keys(AffixRespondEvents).map(evName => fromEvent(this.target, evName)),\n        this.offsetChanged$.pipe(\n          takeUntil(this.destroy$),\n          map(() => ({}))\n        )\n      )\n        .pipe(auditTime(NZ_AFFIX_DEFAULT_SCROLL_TIME))\n        .subscribe(e => this.updatePosition(e as Event));\n    });\n    this.timeout = setTimeout(() => this.updatePosition({} as Event));\n  }\n\n  private removeListeners(): void {\n    clearTimeout(this.timeout);\n    this.positionChangeSubscription.unsubscribe();\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  getOffset(element: Element, target: Element | Window | undefined): SimpleRect {\n    const elemRect = element.getBoundingClientRect();\n    const targetRect = getTargetRect(target!);\n\n    const scrollTop = this.scrollSrv.getScroll(target, true);\n    const scrollLeft = this.scrollSrv.getScroll(target, false);\n\n    const docElem = this.document.body;\n    const clientTop = docElem.clientTop || 0;\n    const clientLeft = docElem.clientLeft || 0;\n\n    return {\n      top: elemRect.top - targetRect.top + scrollTop - clientTop,\n      left: elemRect.left - targetRect.left + scrollLeft - clientLeft,\n      width: elemRect.width,\n      height: elemRect.height\n    };\n  }\n\n  private setAffixStyle(e: Event, affixStyle?: NgStyleInterface): void {\n    const originalAffixStyle = this.affixStyle;\n    const isWindow = this.target === window;\n    if (e.type === 'scroll' && originalAffixStyle && affixStyle && isWindow) {\n      return;\n    }\n    if (shallowEqual(originalAffixStyle, affixStyle)) {\n      return;\n    }\n\n    const fixed = !!affixStyle;\n    const wrapEl = this.fixedEl.nativeElement;\n    this.renderer.setStyle(wrapEl, 'cssText', getStyleAsText(affixStyle));\n    this.affixStyle = affixStyle;\n    if (fixed) {\n      wrapEl.classList.add(NZ_AFFIX_CLS_PREFIX);\n    } else {\n      wrapEl.classList.remove(NZ_AFFIX_CLS_PREFIX);\n    }\n\n    if ((affixStyle && !originalAffixStyle) || (!affixStyle && originalAffixStyle)) {\n      this.nzChange.emit(fixed);\n    }\n  }\n\n  private setPlaceholderStyle(placeholderStyle?: NgStyleInterface): void {\n    const originalPlaceholderStyle = this.placeholderStyle;\n    if (shallowEqual(placeholderStyle, originalPlaceholderStyle)) {\n      return;\n    }\n    this.renderer.setStyle(this.placeholderNode, 'cssText', getStyleAsText(placeholderStyle));\n    this.placeholderStyle = placeholderStyle;\n  }\n\n  private syncPlaceholderStyle(e: Event): void {\n    if (!this.affixStyle) {\n      return;\n    }\n    this.renderer.setStyle(this.placeholderNode, 'cssText', '');\n    this.placeholderStyle = undefined;\n    const styleObj = {\n      width: this.placeholderNode.offsetWidth,\n      height: this.fixedEl.nativeElement.offsetHeight\n    };\n    this.setAffixStyle(e, {\n      ...this.affixStyle,\n      ...styleObj\n    });\n    this.setPlaceholderStyle(styleObj);\n  }\n\n  updatePosition(e: Event): void {\n    if (!this.platform.isBrowser) {\n      return;\n    }\n\n    const targetNode = this.target;\n    let offsetTop = this.nzOffsetTop;\n    const scrollTop = this.scrollSrv.getScroll(targetNode, true);\n    const elemOffset = this.getOffset(this.placeholderNode, targetNode!);\n    const fixedNode = this.fixedEl.nativeElement;\n    const elemSize = {\n      width: fixedNode.offsetWidth,\n      height: fixedNode.offsetHeight\n    };\n    const offsetMode = {\n      top: false,\n      bottom: false\n    };\n    // Default to `offsetTop=0`.\n    if (typeof offsetTop !== 'number' && typeof this.nzOffsetBottom !== 'number') {\n      offsetMode.top = true;\n      offsetTop = 0;\n    } else {\n      offsetMode.top = typeof offsetTop === 'number';\n      offsetMode.bottom = typeof this.nzOffsetBottom === 'number';\n    }\n    const targetRect = getTargetRect(targetNode as Window);\n    const targetInnerHeight = (targetNode as Window).innerHeight || (targetNode as HTMLElement).clientHeight;\n    if (scrollTop >= elemOffset.top - (offsetTop as number) && offsetMode.top) {\n      const width = elemOffset.width;\n      const top = targetRect.top + (offsetTop as number);\n      this.setAffixStyle(e, {\n        position: 'fixed',\n        top,\n        left: targetRect.left + elemOffset.left,\n        width\n      });\n      this.setPlaceholderStyle({\n        width,\n        height: elemSize.height\n      });\n    } else if (scrollTop <= elemOffset.top + elemSize.height + (this.nzOffsetBottom as number) - targetInnerHeight && offsetMode.bottom) {\n      const targetBottomOffset = targetNode === window ? 0 : window.innerHeight - targetRect.bottom!;\n      const width = elemOffset.width;\n      this.setAffixStyle(e, {\n        position: 'fixed',\n        bottom: targetBottomOffset + (this.nzOffsetBottom as number),\n        left: targetRect.left + elemOffset.left,\n        width\n      });\n      this.setPlaceholderStyle({\n        width,\n        height: elemOffset.height\n      });\n    } else {\n      if (\n        e.type === AffixRespondEvents.resize &&\n        this.affixStyle &&\n        this.affixStyle.position === 'fixed' &&\n        this.placeholderNode.offsetWidth\n      ) {\n        this.setAffixStyle(e, {\n          ...this.affixStyle,\n          width: this.placeholderNode.offsetWidth\n        });\n      } else {\n        this.setAffixStyle(e);\n      }\n      this.setPlaceholderStyle();\n    }\n\n    if (e.type === 'resize') {\n      this.syncPlaceholderStyle(e);\n    }\n  }\n}\n","/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nimport { PlatformModule } from '@angular/cdk/platform';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { SCROLL_SERVICE_PROVIDER } from 'ng-zorro-antd/core/services';\n\nimport { NzAffixComponent } from './affix.component';\n\n@NgModule({\n  declarations: [NzAffixComponent],\n  exports: [NzAffixComponent],\n  imports: [CommonModule, PlatformModule],\n  providers: [SCROLL_SERVICE_PROVIDER]\n})\nexport class NzAffixModule {}\n"]}
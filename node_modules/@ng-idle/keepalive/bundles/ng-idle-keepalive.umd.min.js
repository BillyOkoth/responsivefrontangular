!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common/http"),require("@ng-idle/core")):"function"==typeof define&&define.amd?define("@ng-idle/keepalive",["exports","@angular/core","@angular/common/http","@ng-idle/core"],t):t(((e=e||self)["ng-idle"]=e["ng-idle"]||{},e["ng-idle"].keepalive={}),e.ng.core,e.ng.common.http,e["ng-idle"].core)}(this,function(e,t,n,i){"use strict";var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var r=function(e){function i(n,i){var o=e.call(this)||this;return o.http=n,o.zone=i,o.pingInterval=600,o.onPing=new t.EventEmitter,o.onPingResponse=new t.EventEmitter,o}return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(i,e),i.prototype.request=function(e){return"string"==typeof e?this.pingRequest=new n.HttpRequest("GET",e):e instanceof n.HttpRequest?this.pingRequest=e:null===e&&(this.pingRequest=null),this.pingRequest},i.prototype.interval=function(e){if(!isNaN(e)&&e>0)this.pingInterval=e;else if(!isNaN(e)&&e<=0)throw new Error("Interval value must be greater than zero.");return this.pingInterval},i.prototype.ping=function(){var e=this;this.onPing.emit(null),this.pingRequest&&this.http.request(this.pingRequest).subscribe(function(t){e.onPingResponse.emit(t)},function(t){e.onPingResponse.emit(t)})},i.prototype.start=function(){var e=this;this.stop(),this.zone.runOutsideAngular(function(){e.pingHandle=setInterval(function(){e.zone.run(function(){e.ping()})},1e3*e.pingInterval)})},i.prototype.stop=function(){this.hasPingHandle()&&(clearInterval(this.pingHandle),this.pingHandle=null)},i.prototype.ngOnDestroy=function(){this.stop()},i.prototype.isRunning=function(){return this.hasPingHandle()},i.prototype.hasPingHandle=function(){return null!==this.pingHandle&&"undefined"!=typeof this.pingHandle},i.decorators=[{type:t.Injectable}],i.ctorParameters=function(){return[{type:n.HttpClient},{type:t.NgZone}]},i}(i.KeepaliveSvc),u=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[r,{provide:i.KeepaliveSvc,useExisting:r}]}},e.decorators=[{type:t.NgModule,args:[{imports:[i.NgIdleModule.forRoot()]}]}],e}();e.Keepalive=r,e.NgIdleKeepaliveModule=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-idle-keepalive.umd.min.js.map
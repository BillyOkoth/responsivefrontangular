/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { EventEmitter, Injectable, NgZone } from '@angular/core';
import { HttpClient, HttpRequest } from '@angular/common/http';
import { KeepaliveSvc } from '@ng-idle/core';
/**
 * An example of an injectable service.
 */
var Keepalive = /** @class */ (function (_super) {
    tslib_1.__extends(Keepalive, _super);
    /*
     * Initializes a new instance of Keepalive
     * @param http - The HTTP service.
     */
    function Keepalive(http, zone) {
        var _this = _super.call(this) || this;
        _this.http = http;
        _this.zone = zone;
        _this.pingInterval = 10 * 60;
        /*
           * An event emitted when the service is pinging.
           */
        _this.onPing = new EventEmitter();
        /*
           * An event emitted when the service has pinged an HTTP endpoint and received a response.
           */
        _this.onPingResponse = new EventEmitter();
        return _this;
    }
    /*
     * Sets the string or Request that should be used when pinging.
     * @param url - The URL or Request object to use when pinging.
     * @return The current Request used when pinging.
     */
    /*
       * Sets the string or Request that should be used when pinging.
       * @param url - The URL or Request object to use when pinging.
       * @return The current Request used when pinging.
       */
    /**
     * @template T
     * @param {?=} url
     * @return {?}
     */
    Keepalive.prototype.request = /*
       * Sets the string or Request that should be used when pinging.
       * @param url - The URL or Request object to use when pinging.
       * @return The current Request used when pinging.
       */
    /**
     * @template T
     * @param {?=} url
     * @return {?}
     */
    function (url) {
        if (typeof url === 'string') {
            this.pingRequest = new HttpRequest('GET', url);
        }
        else if (url instanceof HttpRequest) {
            this.pingRequest = url;
        }
        else if (url === null) {
            this.pingRequest = null;
        }
        return this.pingRequest;
    };
    /*
     * Sets the interval (in seconds) at which the ping operation will occur when start() is called.
     * @param seconds - The ping interval in seconds.
     * @return The current interval value.
     */
    /*
       * Sets the interval (in seconds) at which the ping operation will occur when start() is called.
       * @param seconds - The ping interval in seconds.
       * @return The current interval value.
       */
    /**
     * @param {?=} seconds
     * @return {?}
     */
    Keepalive.prototype.interval = /*
       * Sets the interval (in seconds) at which the ping operation will occur when start() is called.
       * @param seconds - The ping interval in seconds.
       * @return The current interval value.
       */
    /**
     * @param {?=} seconds
     * @return {?}
     */
    function (seconds) {
        if (!isNaN(seconds) && seconds > 0) {
            this.pingInterval = seconds;
        }
        else if (!isNaN(seconds) && seconds <= 0) {
            throw new Error('Interval value must be greater than zero.');
        }
        return this.pingInterval;
    };
    /*
     * Immediately performs the ping operation. If a request has been set, an HTTP
     * request will be made and the response will be emitted via the
     * onPingResponse event.
     */
    /*
       * Immediately performs the ping operation. If a request has been set, an HTTP
       * request will be made and the response will be emitted via the
       * onPingResponse event.
       */
    /**
     * @return {?}
     */
    Keepalive.prototype.ping = /*
       * Immediately performs the ping operation. If a request has been set, an HTTP
       * request will be made and the response will be emitted via the
       * onPingResponse event.
       */
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.onPing.emit(null);
        if (this.pingRequest) {
            this.http.request(this.pingRequest).subscribe((/**
             * @param {?} response
             * @return {?}
             */
            function (response) {
                _this.onPingResponse.emit(response);
            }), (/**
             * @param {?} error
             * @return {?}
             */
            function (error) {
                _this.onPingResponse.emit(error);
            }));
        }
    };
    /*
     * Starts pinging on an interval.
     */
    /*
       * Starts pinging on an interval.
       */
    /**
     * @return {?}
     */
    Keepalive.prototype.start = /*
       * Starts pinging on an interval.
       */
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.stop();
        this.zone.runOutsideAngular((/**
         * @return {?}
         */
        function () {
            _this.pingHandle = setInterval((/**
             * @return {?}
             */
            function () {
                _this.zone.run((/**
                 * @return {?}
                 */
                function () {
                    _this.ping();
                }));
            }), _this.pingInterval * 1000);
        }));
    };
    /*
     * Stops pinging on an interval.
     */
    /*
       * Stops pinging on an interval.
       */
    /**
     * @return {?}
     */
    Keepalive.prototype.stop = /*
       * Stops pinging on an interval.
       */
    /**
     * @return {?}
     */
    function () {
        if (this.hasPingHandle()) {
            clearInterval(this.pingHandle);
            this.pingHandle = null;
        }
    };
    /*
     * Performs any cleanup tasks when Angular destroys the instance.
     */
    /*
       * Performs any cleanup tasks when Angular destroys the instance.
       */
    /**
     * @return {?}
     */
    Keepalive.prototype.ngOnDestroy = /*
       * Performs any cleanup tasks when Angular destroys the instance.
       */
    /**
     * @return {?}
     */
    function () {
        this.stop();
    };
    /*
     * Returns whether or not the service will ping automatically at the specified interval.
     * @return True if the service will ping at the specified interval; otherwise, false.
     */
    /*
       * Returns whether or not the service will ping automatically at the specified interval.
       * @return True if the service will ping at the specified interval; otherwise, false.
       */
    /**
     * @return {?}
     */
    Keepalive.prototype.isRunning = /*
       * Returns whether or not the service will ping automatically at the specified interval.
       * @return True if the service will ping at the specified interval; otherwise, false.
       */
    /**
     * @return {?}
     */
    function () {
        return this.hasPingHandle();
    };
    /**
     * @private
     * @return {?}
     */
    Keepalive.prototype.hasPingHandle = /**
     * @private
     * @return {?}
     */
    function () {
        return this.pingHandle !== null && typeof this.pingHandle !== 'undefined';
    };
    Keepalive.decorators = [
        { type: Injectable }
    ];
    /** @nocollapse */
    Keepalive.ctorParameters = function () { return [
        { type: HttpClient },
        { type: NgZone }
    ]; };
    return Keepalive;
}(KeepaliveSvc));
export { Keepalive };
if (false) {
    /**
     * @type {?}
     * @private
     */
    Keepalive.prototype.pingRequest;
    /**
     * @type {?}
     * @private
     */
    Keepalive.prototype.pingInterval;
    /**
     * @type {?}
     * @private
     */
    Keepalive.prototype.pingHandle;
    /** @type {?} */
    Keepalive.prototype.onPing;
    /** @type {?} */
    Keepalive.prototype.onPingResponse;
    /**
     * @type {?}
     * @private
     */
    Keepalive.prototype.http;
    /**
     * @type {?}
     * @private
     */
    Keepalive.prototype.zone;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia2VlcGFsaXZlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQG5nLWlkbGUva2VlcGFsaXZlLyIsInNvdXJjZXMiOlsibGliL2tlZXBhbGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBYSxNQUFNLGVBQWUsQ0FBQztBQUM1RSxPQUFPLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBZ0IsTUFBTSxzQkFBc0IsQ0FBQztBQUM3RSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDOzs7O0FBSzdDO0lBQytCLHFDQUFZO0lBaUJ6Qzs7O09BR0c7SUFDSCxtQkFBb0IsSUFBZ0IsRUFBVSxJQUFZO1FBQTFELFlBQ0UsaUJBQU8sU0FDUjtRQUZtQixVQUFJLEdBQUosSUFBSSxDQUFZO1FBQVUsVUFBSSxHQUFKLElBQUksQ0FBUTtRQW5CbEQsa0JBQVksR0FBVyxFQUFFLEdBQUcsRUFBRSxDQUFDOzs7O1FBTWhDLFlBQU0sR0FBc0IsSUFBSSxZQUFZLEVBQUUsQ0FBQzs7OztRQUsvQyxvQkFBYyxHQUFvQyxJQUFJLFlBQVksRUFFdEUsQ0FBQzs7SUFRSixDQUFDO0lBRUQ7Ozs7T0FJRzs7Ozs7Ozs7Ozs7SUFDSCwyQkFBTzs7Ozs7Ozs7OztJQUFQLFVBQVcsR0FBNkI7UUFDdEMsSUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRLEVBQUU7WUFDM0IsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLFdBQVcsQ0FBSSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7U0FDbkQ7YUFBTSxJQUFJLEdBQUcsWUFBWSxXQUFXLEVBQUU7WUFDckMsSUFBSSxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUM7U0FDeEI7YUFBTSxJQUFJLEdBQUcsS0FBSyxJQUFJLEVBQUU7WUFDdkIsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7U0FDekI7UUFFRCxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDMUIsQ0FBQztJQUVEOzs7O09BSUc7Ozs7Ozs7Ozs7SUFDSCw0QkFBUTs7Ozs7Ozs7O0lBQVIsVUFBUyxPQUFnQjtRQUN2QixJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLE9BQU8sR0FBRyxDQUFDLEVBQUU7WUFDbEMsSUFBSSxDQUFDLFlBQVksR0FBRyxPQUFPLENBQUM7U0FDN0I7YUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLE9BQU8sSUFBSSxDQUFDLEVBQUU7WUFDMUMsTUFBTSxJQUFJLEtBQUssQ0FBQywyQ0FBMkMsQ0FBQyxDQUFDO1NBQzlEO1FBRUQsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO0lBQzNCLENBQUM7SUFFRDs7OztPQUlHOzs7Ozs7Ozs7SUFDSCx3QkFBSTs7Ozs7Ozs7SUFBSjtRQUFBLGlCQVlDO1FBWEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkIsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ3BCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxTQUFTOzs7O1lBQzNDLFVBQUMsUUFBMkI7Z0JBQzFCLEtBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3JDLENBQUM7Ozs7WUFDRCxVQUFDLEtBQXdCO2dCQUN2QixLQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNsQyxDQUFDLEVBQ0YsQ0FBQztTQUNIO0lBQ0gsQ0FBQztJQUVEOztPQUVHOzs7Ozs7O0lBQ0gseUJBQUs7Ozs7OztJQUFMO1FBQUEsaUJBVUM7UUFUQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFFWixJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQjs7O1FBQUM7WUFDMUIsS0FBSSxDQUFDLFVBQVUsR0FBRyxXQUFXOzs7WUFBQztnQkFDNUIsS0FBSSxDQUFDLElBQUksQ0FBQyxHQUFHOzs7Z0JBQUM7b0JBQ1osS0FBSSxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNkLENBQUMsRUFBQyxDQUFDO1lBQ0wsQ0FBQyxHQUFFLEtBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLENBQUM7UUFDL0IsQ0FBQyxFQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQ7O09BRUc7Ozs7Ozs7SUFDSCx3QkFBSTs7Ozs7O0lBQUo7UUFDRSxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUUsRUFBRTtZQUN4QixhQUFhLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQy9CLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1NBQ3hCO0lBQ0gsQ0FBQztJQUVEOztPQUVHOzs7Ozs7O0lBQ0gsK0JBQVc7Ozs7OztJQUFYO1FBQ0UsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUVEOzs7T0FHRzs7Ozs7Ozs7SUFDSCw2QkFBUzs7Ozs7OztJQUFUO1FBQ0UsT0FBTyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDOUIsQ0FBQzs7Ozs7SUFFTyxpQ0FBYTs7OztJQUFyQjtRQUNFLE9BQU8sSUFBSSxDQUFDLFVBQVUsS0FBSyxJQUFJLElBQUksT0FBTyxJQUFJLENBQUMsVUFBVSxLQUFLLFdBQVcsQ0FBQztJQUM1RSxDQUFDOztnQkF2SEYsVUFBVTs7OztnQkFORixVQUFVO2dCQURnQixNQUFNOztJQStIekMsZ0JBQUM7Q0FBQSxBQXhIRCxDQUMrQixZQUFZLEdBdUgxQztTQXZIWSxTQUFTOzs7Ozs7SUFDcEIsZ0NBQXNDOzs7OztJQUN0QyxpQ0FBdUM7Ozs7O0lBQ3ZDLCtCQUF3Qjs7SUFLeEIsMkJBQXNEOztJQUt0RCxtQ0FFSTs7Ozs7SUFNUSx5QkFBd0I7Ozs7O0lBQUUseUJBQW9CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRFbWl0dGVyLCBJbmplY3RhYmxlLCBOZ1pvbmUsIE9uRGVzdHJveSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cENsaWVudCwgSHR0cFJlcXVlc3QsIEh0dHBSZXNwb25zZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IEtlZXBhbGl2ZVN2YyB9IGZyb20gJ0BuZy1pZGxlL2NvcmUnO1xuXG4vKipcbiAqIEFuIGV4YW1wbGUgb2YgYW4gaW5qZWN0YWJsZSBzZXJ2aWNlLlxuICovXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgS2VlcGFsaXZlIGV4dGVuZHMgS2VlcGFsaXZlU3ZjIGltcGxlbWVudHMgT25EZXN0cm95IHtcbiAgcHJpdmF0ZSBwaW5nUmVxdWVzdDogSHR0cFJlcXVlc3Q8YW55PjtcbiAgcHJpdmF0ZSBwaW5nSW50ZXJ2YWw6IG51bWJlciA9IDEwICogNjA7XG4gIHByaXZhdGUgcGluZ0hhbmRsZTogYW55O1xuXG4gIC8qXG4gICAqIEFuIGV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgc2VydmljZSBpcyBwaW5naW5nLlxuICAgKi9cbiAgcHVibGljIG9uUGluZzogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgLypcbiAgICogQW4gZXZlbnQgZW1pdHRlZCB3aGVuIHRoZSBzZXJ2aWNlIGhhcyBwaW5nZWQgYW4gSFRUUCBlbmRwb2ludCBhbmQgcmVjZWl2ZWQgYSByZXNwb25zZS5cbiAgICovXG4gIHB1YmxpYyBvblBpbmdSZXNwb25zZTogRXZlbnRFbWl0dGVyPEh0dHBSZXNwb25zZTxhbnk+PiA9IG5ldyBFdmVudEVtaXR0ZXI8XG4gICAgSHR0cFJlc3BvbnNlPGFueT5cbiAgPigpO1xuXG4gIC8qXG4gICAqIEluaXRpYWxpemVzIGEgbmV3IGluc3RhbmNlIG9mIEtlZXBhbGl2ZVxuICAgKiBAcGFyYW0gaHR0cCAtIFRoZSBIVFRQIHNlcnZpY2UuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGh0dHA6IEh0dHBDbGllbnQsIHByaXZhdGUgem9uZTogTmdab25lKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qXG4gICAqIFNldHMgdGhlIHN0cmluZyBvciBSZXF1ZXN0IHRoYXQgc2hvdWxkIGJlIHVzZWQgd2hlbiBwaW5naW5nLlxuICAgKiBAcGFyYW0gdXJsIC0gVGhlIFVSTCBvciBSZXF1ZXN0IG9iamVjdCB0byB1c2Ugd2hlbiBwaW5naW5nLlxuICAgKiBAcmV0dXJuIFRoZSBjdXJyZW50IFJlcXVlc3QgdXNlZCB3aGVuIHBpbmdpbmcuXG4gICAqL1xuICByZXF1ZXN0PFQ+KHVybD86IHN0cmluZyB8IEh0dHBSZXF1ZXN0PFQ+KTogSHR0cFJlcXVlc3Q8VD4ge1xuICAgIGlmICh0eXBlb2YgdXJsID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5waW5nUmVxdWVzdCA9IG5ldyBIdHRwUmVxdWVzdDxUPignR0VUJywgdXJsKTtcbiAgICB9IGVsc2UgaWYgKHVybCBpbnN0YW5jZW9mIEh0dHBSZXF1ZXN0KSB7XG4gICAgICB0aGlzLnBpbmdSZXF1ZXN0ID0gdXJsO1xuICAgIH0gZWxzZSBpZiAodXJsID09PSBudWxsKSB7XG4gICAgICB0aGlzLnBpbmdSZXF1ZXN0ID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5waW5nUmVxdWVzdDtcbiAgfVxuXG4gIC8qXG4gICAqIFNldHMgdGhlIGludGVydmFsIChpbiBzZWNvbmRzKSBhdCB3aGljaCB0aGUgcGluZyBvcGVyYXRpb24gd2lsbCBvY2N1ciB3aGVuIHN0YXJ0KCkgaXMgY2FsbGVkLlxuICAgKiBAcGFyYW0gc2Vjb25kcyAtIFRoZSBwaW5nIGludGVydmFsIGluIHNlY29uZHMuXG4gICAqIEByZXR1cm4gVGhlIGN1cnJlbnQgaW50ZXJ2YWwgdmFsdWUuXG4gICAqL1xuICBpbnRlcnZhbChzZWNvbmRzPzogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAoIWlzTmFOKHNlY29uZHMpICYmIHNlY29uZHMgPiAwKSB7XG4gICAgICB0aGlzLnBpbmdJbnRlcnZhbCA9IHNlY29uZHM7XG4gICAgfSBlbHNlIGlmICghaXNOYU4oc2Vjb25kcykgJiYgc2Vjb25kcyA8PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludGVydmFsIHZhbHVlIG11c3QgYmUgZ3JlYXRlciB0aGFuIHplcm8uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMucGluZ0ludGVydmFsO1xuICB9XG5cbiAgLypcbiAgICogSW1tZWRpYXRlbHkgcGVyZm9ybXMgdGhlIHBpbmcgb3BlcmF0aW9uLiBJZiBhIHJlcXVlc3QgaGFzIGJlZW4gc2V0LCBhbiBIVFRQXG4gICAqIHJlcXVlc3Qgd2lsbCBiZSBtYWRlIGFuZCB0aGUgcmVzcG9uc2Ugd2lsbCBiZSBlbWl0dGVkIHZpYSB0aGVcbiAgICogb25QaW5nUmVzcG9uc2UgZXZlbnQuXG4gICAqL1xuICBwaW5nKCk6IHZvaWQge1xuICAgIHRoaXMub25QaW5nLmVtaXQobnVsbCk7XG4gICAgaWYgKHRoaXMucGluZ1JlcXVlc3QpIHtcbiAgICAgIHRoaXMuaHR0cC5yZXF1ZXN0KHRoaXMucGluZ1JlcXVlc3QpLnN1YnNjcmliZShcbiAgICAgICAgKHJlc3BvbnNlOiBIdHRwUmVzcG9uc2U8YW55PikgPT4ge1xuICAgICAgICAgIHRoaXMub25QaW5nUmVzcG9uc2UuZW1pdChyZXNwb25zZSk7XG4gICAgICAgIH0sXG4gICAgICAgIChlcnJvcjogSHR0cFJlc3BvbnNlPGFueT4pID0+IHtcbiAgICAgICAgICB0aGlzLm9uUGluZ1Jlc3BvbnNlLmVtaXQoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqIFN0YXJ0cyBwaW5naW5nIG9uIGFuIGludGVydmFsLlxuICAgKi9cbiAgc3RhcnQoKTogdm9pZCB7XG4gICAgdGhpcy5zdG9wKCk7XG5cbiAgICB0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgdGhpcy5waW5nSGFuZGxlID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICB0aGlzLnpvbmUucnVuKCgpID0+IHtcbiAgICAgICAgICB0aGlzLnBpbmcoKTtcbiAgICAgICAgfSk7XG4gICAgICB9LCB0aGlzLnBpbmdJbnRlcnZhbCAqIDEwMDApO1xuICAgIH0pO1xuICB9XG5cbiAgLypcbiAgICogU3RvcHMgcGluZ2luZyBvbiBhbiBpbnRlcnZhbC5cbiAgICovXG4gIHN0b3AoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaGFzUGluZ0hhbmRsZSgpKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMucGluZ0hhbmRsZSk7XG4gICAgICB0aGlzLnBpbmdIYW5kbGUgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqIFBlcmZvcm1zIGFueSBjbGVhbnVwIHRhc2tzIHdoZW4gQW5ndWxhciBkZXN0cm95cyB0aGUgaW5zdGFuY2UuXG4gICAqL1xuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3AoKTtcbiAgfVxuXG4gIC8qXG4gICAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHNlcnZpY2Ugd2lsbCBwaW5nIGF1dG9tYXRpY2FsbHkgYXQgdGhlIHNwZWNpZmllZCBpbnRlcnZhbC5cbiAgICogQHJldHVybiBUcnVlIGlmIHRoZSBzZXJ2aWNlIHdpbGwgcGluZyBhdCB0aGUgc3BlY2lmaWVkIGludGVydmFsOyBvdGhlcndpc2UsIGZhbHNlLlxuICAgKi9cbiAgaXNSdW5uaW5nKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmhhc1BpbmdIYW5kbGUoKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFzUGluZ0hhbmRsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5waW5nSGFuZGxlICE9PSBudWxsICYmIHR5cGVvZiB0aGlzLnBpbmdIYW5kbGUgIT09ICd1bmRlZmluZWQnO1xuICB9XG59XG4iXX0=